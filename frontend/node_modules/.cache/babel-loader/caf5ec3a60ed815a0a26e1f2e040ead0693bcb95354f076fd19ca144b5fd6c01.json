{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./Chatbox.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Chatbox=_ref=>{let{submittedData}=_ref;const[input,setInput]=useState('');const[response,setResponse]=useState('Waiting for submission');const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();if(!submittedData||submittedData.length===0){setResponse('No data submitted yet. Please fill out the form.');return;}setLoading(true);try{const apiResponse=await axios.post('http://localhost:5001/api/chat',{messages:[{role:'system',content:'You are a helpful assistant.'},{role:'user',content:`User's data: ${JSON.stringify(submittedData)}`},{role:'user',content:input}]});//SET REPONSE\nsetResponse(apiResponse.data.choices[0].message.content);}catch(error){console.error('Error fetching response:',error);setResponse('Error fetching response. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"chatbox-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chatbox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chatbox-response\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/3662817.png\",alt:\"Robot Icon\",className:\"chatbox-icon\"}),loading?'Loading...':response]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"chatbox-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"Ask me anything...\",className:\"chatbox-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"chatbox-submit\",children:\"Send\"})]})]})});};export default Chatbox;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Chatbox","_ref","submittedData","input","setInput","response","setResponse","loading","setLoading","handleSubmit","e","preventDefault","length","apiResponse","post","messages","role","content","JSON","stringify","data","choices","message","error","console","className","children","src","alt","onSubmit","type","value","onChange","target","placeholder"],"sources":["/Users/stephen/Desktop/student-wellness-tracker/frontend/src/components/Chatbox.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './Chatbox.css';\n\nconst Chatbox = ({ submittedData }) => {\n  const [input, setInput] = useState('');\n  const [response, setResponse] = useState('Waiting for submission');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!submittedData || submittedData.length === 0) {\n      setResponse('No data submitted yet. Please fill out the form.');\n      return;\n    }\n    setLoading(true);\n\n    try {\n      const apiResponse = await axios.post('http://localhost:5001/api/chat', {\n        messages: [\n          { role: 'system', content: 'You are a helpful assistant.' },\n          { role: 'user', content: `User's data: ${JSON.stringify(submittedData)}` },\n          { role: 'user', content: input },\n        ],\n      });\n\n      //SET REPONSE\n\n      setResponse(apiResponse.data.choices[0].message.content);\n    } catch (error) {\n      console.error('Error fetching response:', error);\n      setResponse('Error fetching response. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"chatbox-container\">\n      <div className=\"chatbox\">\n        <div className=\"chatbox-response\">\n          <img src=\"/3662817.png\" alt=\"Robot Icon\" className=\"chatbox-icon\" />\n          {loading ? 'Loading...' : response}\n        </div>\n        <form onSubmit={handleSubmit} className=\"chatbox-form\">\n          <input\n            type=\"text\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder=\"Ask me anything...\"\n            className=\"chatbox-input\"\n          />\n          <button type=\"submit\" className=\"chatbox-submit\">Send</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Chatbox;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvB,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAAuB,IAAtB,CAAEC,aAAc,CAAC,CAAAD,IAAA,CAChC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,wBAAwB,CAAC,CAClE,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAe,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACT,aAAa,EAAIA,aAAa,CAACU,MAAM,GAAK,CAAC,CAAE,CAChDN,WAAW,CAAC,kDAAkD,CAAC,CAC/D,OACF,CACAE,UAAU,CAAC,IAAI,CAAC,CAEhB,GAAI,CACF,KAAM,CAAAK,WAAW,CAAG,KAAM,CAAAlB,KAAK,CAACmB,IAAI,CAAC,gCAAgC,CAAE,CACrEC,QAAQ,CAAE,CACR,CAAEC,IAAI,CAAE,QAAQ,CAAEC,OAAO,CAAE,8BAA+B,CAAC,CAC3D,CAAED,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAE,gBAAgBC,IAAI,CAACC,SAAS,CAACjB,aAAa,CAAC,EAAG,CAAC,CAC1E,CAAEc,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAEd,KAAM,CAAC,CAEpC,CAAC,CAAC,CAEF;AAEAG,WAAW,CAACO,WAAW,CAACO,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACL,OAAO,CAAC,CAC1D,CAAE,MAAOM,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDjB,WAAW,CAAC,4CAA4C,CAAC,CAC3D,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEX,IAAA,QAAK4B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChC3B,KAAA,QAAK0B,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtB3B,KAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B7B,IAAA,QAAK8B,GAAG,CAAC,cAAc,CAACC,GAAG,CAAC,YAAY,CAACH,SAAS,CAAC,cAAc,CAAE,CAAC,CACnElB,OAAO,CAAG,YAAY,CAAGF,QAAQ,EAC/B,CAAC,cACNN,KAAA,SAAM8B,QAAQ,CAAEpB,YAAa,CAACgB,SAAS,CAAC,cAAc,CAAAC,QAAA,eACpD7B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE5B,KAAM,CACb6B,QAAQ,CAAGtB,CAAC,EAAKN,QAAQ,CAACM,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAE,CAC1CG,WAAW,CAAC,oBAAoB,CAChCT,SAAS,CAAC,eAAe,CAC1B,CAAC,cACF5B,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC1D,CAAC,EACJ,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}